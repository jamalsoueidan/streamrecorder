"use client";

import { followUser } from "@/app/actions/followers";
import { FollowRequestBody } from "@/lib/types/strapi-autogenerated";

type Props = FollowRequestBody & {
  onSuccess?: () => void;
};

export default function FollowButton({ onSuccess, ...data }: Props) {
  async function handleClick() {
    console.log("FollowButton: calling followUser", data);
    const result = await followUser(data);
    console.log("FollowButton: followUser result", result);
    console.log("FollowButton: calling onSuccess");
    onSuccess?.();
  }

  return (
    <button type="button" onClick={handleClick}>
      Follow
    </button>
  );
}
