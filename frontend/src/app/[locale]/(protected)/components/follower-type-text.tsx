"use client";

import { streamingPlatforms } from "@/app/lib/streaming-platforms";
import { FollowerTypeEnum } from "@/lib/types/strapi-autogenerated";
import { Image, ImageProps } from "@mantine/core";
import { useTranslations } from "next-intl";

type FollowerTypeTextProps = {
  type: FollowerTypeEnum | undefined;
} & ImageProps;

export const FollowerTypeText = ({ type, ...props }: FollowerTypeTextProps) => {
  const t = useTranslations("protected.addFollowerForm");

  const platform = streamingPlatforms.find(
    (p) => p.name.toLowerCase() === type?.toLowerCase(),
  );

  if (!platform) {
    return null;
  }

  return (
    <Image
      src={platform.file}
      alt={t(`platforms.${platform.name.toLowerCase()}`)}
      w={20}
      fit="contain"
      style={{
        filter: "brightness(0) invert(1)",
        objectFit: "contain",
      }}
      {...props}
    />
  );
};
